require "spec"
require "../src/prngs/xorshift"

describe "Random::Xoroshiro128plus" do
  it "generates random numbers as generated official implementation" do
    numbers = [161743971435277218_u64,
               12749638389516825946_u64,
               4146736784021417053_u64,
               11394733814739543922_u64,
               5919433169786178858_u64,
               4241863456358946179_u64,
               7153495629702943020_u64,
               6615420010493371247_u64,
               9952100663899464852_u64,
               14672847684171515009_u64,
               17113800272934008423_u64,
               16403311139858716934_u64,
               12215484346000886377_u64,
               14238806683115497214_u64,
               13910142693410592070_u64,
               7724144857223886361_u64,
               9075733398169617904_u64,
               5634930714536464900_u64,
               2733942052901160118_u64,
               17693715793714424022_u64,
               8137122508671055182_u64,
               6415747618330055320_u64,
               15705975534504365925_u64,
               5868048410449252447_u64,
               9108959133630137736_u64,
               7483243276722213562_u64,
               14868796904872558029_u64,
               6313023836281617677_u64,
               6649336199478439294_u64,
               16149102996888215516_u64,
               3727991758618490683_u64,
               2320694756706062361_u64,
               12162126961292846971_u64,
               15484054774226706687_u64,
               16851698291513424180_u64,
               6211763121824466039_u64,
               1443411643584089856_u64,
               11814931554953919683_u64,
               1229846429463909320_u64,
               834914031011571225_u64,
               13014431014741371058_u64,
               5432524950931051905_u64,
               8352162180100044457_u64,
               4423136763541234055_u64,
               12211563008565317702_u64,
               10719456616463860877_u64,
               2097044165121537405_u64,
               10275641484510235258_u64,
               1951146658863428296_u64,
               9961210433054140615_u64]
    seed = 1477780064718404645_u64

    m = Random::Xoroshiro128plus.new(seed)
    numbers.each do |n|
      m.next_u.should eq(n)
    end
  end
end
